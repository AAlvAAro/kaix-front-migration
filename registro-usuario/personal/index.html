<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Inicio SubModule</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script
            src="https://code.highcharts.com/modules/series-label.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script
            src="https://code.highcharts.com/modules/export-data.js"></script>
        <script
            src="https://code.highcharts.com/modules/accessibility.js"></script>

        <script>
            tailwind.config = {
              theme: {
                extend: {
                  colors: {
                    primary: '#ffffff',
                    green: '#93F775',
                    darkGreen: '#164e05',
                    purple: '#9E70D8',
                    background: '#000000',
                    card: '#222222',
                    cardHover: '#4D4D4D',
                    lightTeal: '#94DBDA',
                    orange: '#AE563A',
                    inputBackground: '#f2f2f2',
                    inputText: '#8a8a8a',
                    chartLine: '#E4E4E433'
                  }
                }
              }
            }
        </script>
    </head>
    <body class="bg-white p-8 sm:p-12 flex flex-row gap-3">

        <!--Left Bar-->
        <div class=' w-1/4 flex flex-col justify-start items-start'>
            <div class='flex flex-col items-center justify-center'>
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    viewBox='0 0 181 44'
                    class='w-48 stroke-black mb-4'>
                    <g>
                        <path
                            d='M14.7166 11.4219H16.4609C16.8145 11.4219 17.0031 11.564 17.0031 11.8483V27.6728C17.0031 29.2127 16.5081 30.3971 15.4945 31.25C14.5045 32.1028 13.1138 32.5292 11.3459 32.5292H7.07938C5.31149 32.5292 3.92075 32.1028 2.90717 31.25C1.89358 30.3971 1.375 29.2127 1.375 27.6728V11.8957C1.375 11.5877 1.56358 11.4456 1.91716 11.4456H3.66147C4.01504 11.4456 4.20362 11.5877 4.20362 11.8957V27.5781C4.20362 29.4732 5.26435 30.4445 7.40938 30.4445H11.0394C13.1845 30.4445 14.2688 29.4969 14.2688 27.5781V11.8957C14.2216 11.5877 14.3866 11.4219 14.7166 11.4219Z' />
                        <path
                            d='M30.8878 32.5289H29.1906C28.837 32.5289 28.6484 32.3868 28.6484 32.0788V11.8954C28.6484 11.5875 28.837 11.4453 29.1906 11.4453H30.7699C31.0763 11.4453 31.2885 11.5401 31.3828 11.7059L42.0136 27.6252H42.1786V11.9191C42.1786 11.6111 42.3672 11.469 42.7208 11.469H44.418C44.7715 11.469 44.9601 11.6111 44.9601 11.9191V32.1025C44.9601 32.4105 44.7715 32.5526 44.418 32.5526H43.0037C42.7208 32.5526 42.4615 32.4105 42.2022 32.1262L31.6185 16.3727H31.4535V32.0788C31.4299 32.3631 31.2413 32.5289 30.8878 32.5289Z' />
                        <path
                            d='M56.5352 27.6724V26.63C56.5352 26.3221 56.7237 26.1799 57.0773 26.1799H58.798C59.1516 26.1799 59.3402 26.3221 59.3402 26.63V27.4828C59.3402 29.4491 60.4716 30.444 62.7581 30.444H66.1524C68.4389 30.444 69.5704 29.4491 69.5704 27.4355V26.3221C69.5704 24.7586 68.0382 23.7162 64.9974 23.2424C63.7245 23.0529 62.4281 22.816 61.1552 22.5554C59.8823 22.2949 58.7745 21.7737 57.8787 21.0393C56.983 20.2812 56.5352 19.2626 56.5352 17.936V16.3251C56.5352 14.809 57.0302 13.6245 58.0673 12.7717C59.0809 11.9189 60.4716 11.4688 62.2395 11.4688H66.506C68.2503 11.4688 69.6411 11.8952 70.6547 12.7717C71.6918 13.6245 72.1868 14.8327 72.1868 16.3251V17.1542C72.1868 17.4859 72.0218 17.6517 71.6918 17.6517H69.9239C69.5939 17.6517 69.4289 17.4859 69.4289 17.1542V16.562C69.4289 14.5721 68.2975 13.5771 66.011 13.5771H62.7345C60.4481 13.5771 59.3166 14.6194 59.3166 16.7041V18.007C59.3166 19.1204 60.1652 19.8785 61.8859 20.3049C62.6638 20.4708 63.5124 20.6366 64.4317 20.7787C65.351 20.9209 66.2939 21.1104 67.2132 21.3473C68.156 21.5842 69.0046 21.8684 69.7825 22.2001C70.5604 22.5317 71.1732 23.0529 71.6447 23.7399C72.1161 24.4269 72.3518 25.256 72.3518 26.251V27.7197C72.3518 29.2358 71.8332 30.4203 70.8197 31.2731C69.7825 32.126 68.4153 32.5761 66.671 32.5761H62.2395C60.4952 32.5761 59.1045 32.1497 58.0909 31.2731C57.0537 30.3729 56.5352 29.1648 56.5352 27.6724Z' />
                        <path
                            d='M93.8967 32.5292H89.2766C87.5088 32.5292 86.118 32.1028 85.1044 31.25C84.0908 30.3971 83.5723 29.2127 83.5723 27.6728V16.2782C83.5723 14.7384 84.0908 13.5539 85.1044 12.7011C86.118 11.8483 87.5088 11.4219 89.2766 11.4219H93.8967C95.6646 11.4219 97.0553 11.8483 98.0689 12.7011C99.0825 13.5539 99.6011 14.7384 99.6011 16.2782V17.8891C99.6011 18.197 99.4125 18.3392 99.0589 18.3392H97.3146C96.9611 18.3392 96.7725 18.197 96.7725 17.8891V16.373C96.7725 14.4778 95.6882 13.5302 93.5431 13.5302H89.5831C87.4616 13.5302 86.3773 14.4778 86.3773 16.373V27.5544C86.3773 29.4496 87.438 30.4208 89.5831 30.4208H93.5431C95.6882 30.4208 96.7725 29.4732 96.7725 27.5544V26.0383C96.7725 25.7303 96.9611 25.5882 97.3146 25.5882H99.0589C99.4125 25.5882 99.6011 25.7303 99.6011 26.0383V27.6492C99.6011 29.189 99.0825 30.3734 98.0689 31.2263C97.0553 32.1028 95.6646 32.5292 93.8967 32.5292Z' />
                        <path
                            d='M120.463 32.5292H115.89C114.122 32.5292 112.731 32.1028 111.718 31.25C110.704 30.3971 110.186 29.2127 110.186 27.6728V16.2782C110.186 14.7384 110.681 13.5539 111.718 12.7011C112.731 11.8483 114.122 11.4219 115.89 11.4219H120.463C122.231 11.4219 123.621 11.8483 124.635 12.7248C125.649 13.5776 126.167 14.7858 126.167 16.2782V27.6728C126.167 29.189 125.649 30.3734 124.635 31.2263C123.621 32.1028 122.231 32.5292 120.463 32.5292ZM116.173 30.4208H120.109C122.254 30.4208 123.339 29.4732 123.339 27.5544V16.373C123.339 14.4778 122.254 13.5302 120.109 13.5302H116.173C114.051 13.5302 112.967 14.4778 112.967 16.373V27.5544C112.991 29.4732 114.051 30.4208 116.173 30.4208Z' />
                        <path
                            d='M139.906 32.5289H138.161C137.808 32.5289 137.619 32.3868 137.619 32.0788V11.8954C137.619 11.5875 137.808 11.4453 138.161 11.4453H147.024C148.792 11.4453 150.183 11.8717 151.22 12.7482C152.257 13.6011 152.752 14.8092 152.752 16.3017V19.2865C152.752 20.5184 152.399 21.5133 151.715 22.3188C151.031 23.1242 150.065 23.6454 148.816 23.906V24.0481L153.271 32.0315C153.507 32.3868 153.365 32.5526 152.894 32.5526H151.149C150.701 32.5526 150.395 32.4105 150.183 32.1025L145.869 24.1665H140.825C140.566 24.1665 140.448 24.2613 140.448 24.4508V32.1025C140.424 32.3631 140.259 32.5289 139.906 32.5289ZM140.825 22.1293H146.647C148.863 22.1293 149.947 21.1817 149.947 19.3102V16.3964C149.947 14.5013 148.839 13.53 146.647 13.53H140.825C140.566 13.53 140.448 13.6247 140.448 13.8143V21.8213C140.424 22.0345 140.566 22.1293 140.825 22.1293Z' />
                        <path
                            d='M164.068 32.0554V11.872C164.068 11.564 164.257 11.4219 164.611 11.4219H173.662C175.43 11.4219 176.821 11.8483 177.811 12.6774C178.801 13.5302 179.319 14.691 179.319 16.2071V18.0075C179.319 19.9501 178.235 21.2056 176.09 21.7742C177.056 21.8452 177.905 22.2006 178.589 22.8639C179.272 23.5272 179.626 24.4037 179.626 25.4934V27.6965C179.626 29.2127 179.107 30.3735 178.094 31.2263C177.08 32.0791 175.689 32.4818 173.921 32.4818H164.611C164.257 32.5292 164.068 32.3634 164.068 32.0554ZM167.274 20.7792H173.214C175.477 20.7792 176.609 19.8553 176.609 17.9838V16.2545C176.609 14.4068 175.524 13.4592 173.332 13.4592H167.298C167.038 13.4592 166.921 13.5776 166.921 13.7908V20.4949C166.897 20.6844 167.015 20.7792 167.274 20.7792ZM167.274 30.4919H173.591C175.807 30.4919 176.891 29.568 176.891 27.6965V25.5645C176.891 23.7167 175.713 22.7691 173.356 22.7691H167.274C167.015 22.7691 166.897 22.8639 166.897 23.0534V30.1366C166.897 30.3735 167.015 30.4919 167.274 30.4919Z' />
                    </g>
                </svg>
                <div
                    class='w-full flex flex-row justify-between lg:flex-col lg:gap-8'>
                    <!--Icons-->
                    <div class="flex gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="size-6 text-green">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                        </svg>
                        <p class="text-green"> Datos Personales</p>
                    </div>

                    <div class="flex gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                        </svg>

                        <p> Domicilio</p>
                    </div>

                    <div class="flex gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" strokeWidth="1.5"
                            stroke="currentColor" class="size-6">
                            <path strokeLinecap="round" strokeLinejoin="round"
                                d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>

                        <p> Confirmación </p>
                    </div>

                </div>
            </div>
        </div>
        <!--Right Side-->
        <div class=" flex flex-col w-3/4">
            <h1 class='text-3xl tracking-[8px]'>DATOS PERSONALES</h1>
            <p class='text-purple text-xl font-semibold mb-6'>Ingresa tu
                información</p>
            <form>
                <div class='flex flex-col lg:flex-wrap lg:justify-between'
                    id="formContainer">

                </div>
                <div class="flex flex-col items-start mb-6">
                    <label for="verifiedData"
                        class="text-purple text-lg font-semibold mb-2">Verifique
                        que mis datos son correctos</label>
                    <input id="verifiedData" type="checkbox"
                        class="accent-green w-5 h-5">
                </div>
                <button
                    class="w-full border-b-2 border-green bg-background text-green hover:text-black hover:bg-green py-2 transition-colors duration-300 ease-in-out min-w-48 disabled:bg-slate-100  disabled:border-0 disabled:text-gray-700 disabled:cursor-not-allowed"
                    id="continueButton"
                    disabled>
                    Continuar
                </button>
            </form>
        </div>

        <script>
            const PersonalDataFormfields = [
                { name: 'name', title: 'Nombre', placeholder: 'Nombre(s) completo', type: 'text', required: true },
                { name: 'lastName', title: 'Apellido Paterno', placeholder: 'Apellido Paterno', type: 'text', required: true },
                { name: 'secondLastName', title: 'Apellido Materno', placeholder: 'Apellido Materno', type: 'text', required: false },
                { name: 'gender', title: 'Género', placeholder: 'Seleccionar', type: 'text', options: ['Masculino', 'Femenino'] },
                { 
                    name: 'state', 
                    title: 'Entidad de nacimiento', 
                    placeholder: 'Seleccionar', 
                    type: 'text', 
                    options: [
                        'Aguascalientes',
                        'Baja California',
                        'Baja California Sur',
                        'Campeche',
                        'Chiapas',
                        'Chihuahua',
                        'Coahuila',
                        'Colima',
                        'Ciudad de México',
                        'Durango',
                        'Guanajuato',
                        'Guerrero',
                        'Hidalgo',
                        'Jalisco',
                        'México',
                        'Michoacán',
                        'Morelos',
                        'Nayarit',
                        'Nuevo León',
                        'Oaxaca',
                        'Puebla',
                        'Querétaro',
                        'Quintana Roo',
                        'San Luis Potosí',
                        'Sinaloa',
                        'Sonora',
                        'Tabasco',
                        'Tamaulipas',
                        'Tlaxcala',
                        'Veracruz',
                        'Yucatán',
                        'Zacatecas'
                    ], 
                    required: true 
                },    
                { name: 'birthDate', title: 'Fecha de Nacimiento', placeholder: 'DD/MM/AAAA', type: 'date', required: true },
                { name: 'phone', title: 'No. Celular', placeholder: '000-000-0000', type: 'tel', required: true },
                { name: 'rfc', title: 'RFC', placeholder: 'Registro Federal de Contribuyentes', type: 'text', fiscal: true },
                { name: 'homoclave', title: 'Homoclave', placeholder: '3 Dígitos', type: 'text', fiscal: true },
                { name: 'hasRFC', title: '¿Tienes RFC?', type: 'checkbox' }
            ];

            const formContainer = document.getElementById("formContainer");
            let currentRow = null;
            let hasRFCChecked = false;

            const handleCheckboxChange = (event) => {
                hasRFCChecked = event.target.checked;
                renderForm();
            };

            const renderForm = () => {
                formContainer.innerHTML = ''; // Clear the form container

                PersonalDataFormfields.forEach((field, index) => {
                    // Forzar una nueva fila para el campo de phone
                    if (field.name === 'phone') {
                        currentRow = document.createElement("div");
                        currentRow.classList.add("flex", "flex-wrap", "mb-4", "gap-4");
                        formContainer.appendChild(currentRow);

                        const inputContainer = document.createElement("div");
                        inputContainer.classList.add("flex", "flex-col", "gap-2", "flex-1", "items-start");

                        const label = document.createElement("label");
                        label.textContent = field.title;
                        label.classList.add("text-black", "text-lg");
                        inputContainer.appendChild(label);

                        const input = document.createElement("input");
                        input.classList.add("bg-inputBackground", "text-inputText", "p-2","px-2", "py-4");
                        input.type = field.type;
                        input.name = field.name;
                        input.placeholder = field.placeholder;
                        input.required = field.required;
                        inputContainer.appendChild(input);

                        currentRow.appendChild(inputContainer);

                        // Reiniciar la fila después de agregar el campo de celular
                        currentRow = null;
                    } else if (field.name === 'rfc' || field.name === 'homoclave' || field.name === 'hasRFC') {
                        if (!currentRow || !currentRow.classList.contains('flex-wrap-rfc')) {
                            currentRow = document.createElement("div");
                            currentRow.classList.add("flex", "flex-wrap", "mb-4", "gap-4", "flex-wrap-rfc");
                            formContainer.appendChild(currentRow);
                        }

                        const inputContainer = document.createElement("div");
                        inputContainer.classList.add("flex", "flex-col", "gap-2", "flex-1");

                        const label = document.createElement("label");
                        label.textContent = field.title;
                        label.classList.add("text-black", "text-lg");
                        inputContainer.appendChild(label);

                        if (field.type === 'checkbox') {
                            const checkbox = document.createElement("input");
                            checkbox.type = 'checkbox';
                            checkbox.classList.add("bg-inputBackground", "text-inputText", "p-2","accent-green", "w-5", "h-5");
                            checkbox.name = field.name;
                            checkbox.checked = hasRFCChecked;
                            checkbox.addEventListener('change', handleCheckboxChange);
                            inputContainer.appendChild(checkbox);
                        } else {
                            const input = document.createElement("input");
                            input.classList.add("bg-inputBackground", "text-inputText", "p-2", "rounded");
                            input.type = field.type;
                            input.name = field.name;
                            input.placeholder = field.placeholder;
                            input.required = field.required;
                            if (field.fiscal && !hasRFCChecked) {
                                input.disabled = true;
                            }
                            inputContainer.appendChild(input);
                        }

                        currentRow.appendChild(inputContainer);
                    } else {
                        if (index % 3 === 0 || !currentRow) {
                            currentRow = document.createElement("div");
                            currentRow.classList.add("flex", "flex-col","sm:flex-row", "flex-wrap", "mb-4", "gap-4");
                            formContainer.appendChild(currentRow);
                        }

                        const inputContainer = document.createElement("div");
                        inputContainer.classList.add("flex", "flex-col", "gap-2", "flex-1", "sm:1/3", "w-full");

                        const label = document.createElement("label");
                        label.textContent = field.title;
                        label.classList.add("text-black", "text-lg");
                        inputContainer.appendChild(label);

                        if (field.options) {
                            const select = document.createElement("select");
                            select.classList.add("bg-inputBackground", "text-inputText", "px-2", "py-4");
                            select.name = field.name;
                            select.required = field.required;

                            field.options.forEach(option => {
                                const optionElement = document.createElement("option");
                                optionElement.value = option;
                                optionElement.textContent = option;
                                select.appendChild(optionElement);
                            });

                            inputContainer.appendChild(select);
                        } else {
                            const input = document.createElement("input");
                            input.classList.add("bg-inputBackground", "text-inputText", "p-2", "px-2", "py-4");
                            input.type = field.type;
                            input.name = field.name;
                            input.placeholder = field.placeholder;
                            input.required = field.required;
                            inputContainer.appendChild(input);
                        }

                        currentRow.appendChild(inputContainer);
                    }
                });
            };

            document.addEventListener('DOMContentLoaded', renderForm);

            const checkbox = document.getElementById('verifiedData');
            const continueButton = document.getElementById('continueButton');

            checkbox.addEventListener('change', function() {
                if (checkbox.checked) {
                    continueButton.disabled = false;
                } else {
                    continueButton.disabled = true;
                }
            });

            continueButton.disabled = true;
        </script>
    </body>
</html>
